<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#4CAF50">
    <title>üå± Irrigate Control</title>
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="manifest" href="/manifest.json">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header>
            <div class="header-content">
                <div class="header-left">
                    <div class="header-title">
                        <span class="header-icon">üå±</span>
                        <div class="header-title-text">
                            <h1>Irrigate Control</h1>
                            <div class="header-subtitle">
                                <span id="current-season" class="season-text">--</span>
                                <span class="separator">‚Ä¢</span>
                                <span id="current-date" class="date-text">Loading...</span>
                                <span class="separator">‚Ä¢</span>
                                <span id="current-time" class="time-text">--:--</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="header-right">
                    <div class="header-info-section combined-info">
                        <div class="info-left">
                            <div class="weather-line">
                                <span id="uv-icon">‚òÄÔ∏è</span> <span id="uv-index" class="uv-badge">--</span>
                            </div>
                            <div class="weather-line">
                                üíß <span id="recent-precip">--</span> mm
                            </div>
                        </div>
                        <div class="info-right">
                            <div class="sun-time-line">
                                ‚òÄÔ∏è <span id="sunrise-time">--:--</span>
                            </div>
                            <div class="sun-time-line">
                                üåô <span id="sunset-time">--:--</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Waterflow History Bar -->
        <div id="waterflow-history-bar" class="waterflow-history-bar" style="display: none;">
            <div class="status-overlay-container">
                <div id="system-status" class="system-status">
                    <span class="status-indicator">‚óè</span>
                    <span class="status-text">Loading...</span>
                </div>
                <div id="waterflow-status" class="waterflow-status" style="display: none;">
                    <span class="waterflow-icon">üíß</span>
                    <span id="waterflow-text" class="waterflow-text">--</span>
                </div>
                <div id="sensor-status" class="sensor-status" style="display: none;">
                    <span class="sensor-icon">üå°Ô∏è</span>
                    <span id="sensor-text" class="sensor-text">--</span>
                </div>
            </div>
            <canvas id="waterflow-chart" class="waterflow-chart"></canvas>
            <div id="waterflow-tooltip" class="waterflow-tooltip"></div>
        </div>

        <!-- Tabs Navigation -->
        <nav class="tabs">
            <button class="tab active" data-tab="valves" onclick="switchTab('valves')">
                üö∞ Valves
            </button>
            <button class="tab" data-tab="queue" onclick="switchTab('queue')">
                üìã Queue
            </button>
            <button class="tab" data-tab="sensors" onclick="switchTab('sensors')">
                üå°Ô∏è Sensors
            </button>
            <button class="tab" data-tab="config" onclick="switchTab('config')">
                ‚öôÔ∏è Config
            </button>
        </nav>

        <!-- Tab Content -->
        <main>
            <!-- Valves Tab -->
            <div id="tab-valves" class="tab-content active">
                <div class="loading">Loading valves...</div>
                <div id="valves-grid" class="valves-grid"></div>
            </div>

            <!-- Queue Tab -->
            <div id="tab-queue" class="tab-content">
                <div class="loading">Loading queue...</div>
                <div id="queue-view" class="queue-view"></div>
            </div>

            <!-- Sensors Tab -->
            <div id="tab-sensors" class="tab-content">
                <div class="loading">Loading sensors...</div>
                <div id="sensors-list" class="sensors-list"></div>
            </div>

            <!-- Config Tab -->
            <div id="tab-config" class="tab-content">
                <div class="loading">Loading configuration...</div>
                <div id="config-view" class="config-view"></div>
            </div>
        </main>

        <!-- Toast notifications -->
        <div id="toast" class="toast"></div>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
