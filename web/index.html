<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#4CAF50">
    <title>üå± Irrigate Control</title>
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="manifest" href="/manifest.json">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header>
            <div class="header-content">
                <div class="header-left">
                    <div class="header-title">
                        <span class="header-icon">üå±</span>
                        <div class="header-title-text">
                            <h1>Irrigate Control</h1>
                            <div class="header-subtitle">
                                <span id="current-date" class="date-text">Loading...</span>
                                <span class="separator">‚Ä¢</span>
                                <span id="current-season" class="season-text">--</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="header-right">
                    <div class="header-time-section">
                        <div id="current-time" class="time-display">--:--</div>
                        <div class="sun-times">
                            <span class="sun-time">üåÑ <span id="sunrise-time">--:--</span></span>
                            <span class="sun-time">üåÖ <span id="sunset-time">--:--</span></span>
                        </div>
                    </div>
                    <div id="system-status" class="system-status">
                        <span class="status-indicator">‚óè</span>
                        <span class="status-text">Loading...</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Tabs Navigation -->
        <nav class="tabs">
            <button class="tab active" data-tab="valves" onclick="switchTab('valves')">
                üíß Valves
            </button>
            <button class="tab" data-tab="queue" onclick="switchTab('queue')">
                üìã Queue
            </button>
            <button class="tab" data-tab="sensors" onclick="switchTab('sensors')">
                üå°Ô∏è Sensors
            </button>
            <button class="tab" data-tab="config" onclick="switchTab('config')">
                ‚öôÔ∏è Config
            </button>
            <button class="tab" data-tab="simulate" onclick="switchTab('simulate')">
                üß™ Simulate
            </button>
        </nav>

        <!-- Tab Content -->
        <main>
            <!-- Valves Tab -->
            <div id="tab-valves" class="tab-content active">
                <div class="loading">Loading valves...</div>
                <div id="valves-grid" class="valves-grid"></div>
            </div>

            <!-- Queue Tab -->
            <div id="tab-queue" class="tab-content">
                <div class="loading">Loading queue...</div>
                <div id="queue-view" class="queue-view"></div>
            </div>

            <!-- Sensors Tab -->
            <div id="tab-sensors" class="tab-content">
                <div class="loading">Loading sensors...</div>
                <div id="sensors-list" class="sensors-list"></div>
            </div>

            <!-- Config Tab -->
            <div id="tab-config" class="tab-content">
                <div class="loading">Loading configuration...</div>
                <div id="config-view" class="config-view"></div>
            </div>

            <!-- Simulate Tab -->
            <div id="tab-simulate" class="tab-content">
                <div class="simulate-form">
                    <h2>Schedule Simulator</h2>
                    <p>Test irrigation schedules with different conditions</p>
                    
                    <form id="simulate-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="sim-date">Date (YYYY-MM-DD or MM-DD)</label>
                                <input type="text" id="sim-date" placeholder="11-05">
                            </div>
                            <div class="form-group">
                                <label for="sim-time">Time (HH:MM)</label>
                                <input type="text" id="sim-time" placeholder="06:00">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="sim-uv">UV Index (0-15)</label>
                                <input type="number" id="sim-uv" min="0" max="15" step="0.1" placeholder="5.0">
                            </div>
                            <div class="form-group">
                                <label for="sim-season">Season</label>
                                <select id="sim-season">
                                    <option value="">Current Season</option>
                                    <option value="Spring">Spring</option>
                                    <option value="Summer">Summer</option>
                                    <option value="Fall">Fall</option>
                                    <option value="Winter">Winter</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="sim-rain">Rain (disables irrigation)</label>
                                <select id="sim-rain">
                                    <option value="">Normal</option>
                                    <option value="true">Yes (disable)</option>
                                    <option value="false">No</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="sim-days">Days to Simulate</label>
                                <input type="number" id="sim-days" min="1" max="30" value="1">
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary">Run Simulation</button>
                    </form>

                    <div id="simulate-output" class="simulate-output" style="display: none;">
                        <h3>Simulation Results</h3>
                        <pre id="simulate-results"></pre>
                    </div>
                </div>
            </div>
        </main>

        <!-- Toast notifications -->
        <div id="toast" class="toast"></div>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
